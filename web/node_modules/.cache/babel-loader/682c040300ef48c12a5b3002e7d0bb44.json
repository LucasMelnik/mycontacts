{"ast":null,"code":"import delay from '../../utils/ delay';\nimport APIError from '../../errors/APIError';\n\nclass HttpClient {\n  constructor(baseURL) {\n    this.baseURL = baseURL;\n  }\n\n  async get(path) {\n    await delay(500);\n    const response = await fetch(`${this.baseURL + path}`);\n    let body = null;\n    const contentType = response.headers.get('Content-Type');\n\n    if (contentType.includes('application/json')) {\n      body = await response.json();\n    }\n\n    if (response.ok) {\n      return body;\n    }\n\n    throw new APIError(response, body);\n  }\n\n  async post(path, body) {\n    await delay(500);\n    const headers = new Headers({\n      'Content-Type': 'application/json'\n    });\n    const response = await fetch(`${this.baseURL + path}`, {\n      method: 'POST',\n      body: JSON.stringify(body),\n      headers\n    });\n    let responseBody = null;\n    const contentType = response.headers.get('Content-Type');\n\n    if (contentType.includes('application/json')) {\n      responseBody = await response.json();\n    }\n\n    if (response.ok) {\n      return responseBody;\n    }\n\n    throw new APIError(response, responseBody);\n  }\n\n}\n\nexport default HttpClient;","map":{"version":3,"names":["delay","APIError","HttpClient","constructor","baseURL","get","path","response","fetch","body","contentType","headers","includes","json","ok","post","Headers","method","JSON","stringify","responseBody"],"sources":["/home/melnik/dev/jstack/mycontacts/web/src/services/utils/HttpClient.js"],"sourcesContent":["import delay from '../../utils/ delay';\nimport APIError from '../../errors/APIError';\n\nclass HttpClient {\n  constructor(baseURL) {\n    this.baseURL = baseURL;\n  }\n\n  async get(path) {\n    await delay(500);\n\n    const response = await fetch(`${this.baseURL + path}`);\n\n    let body = null;\n    const contentType = response.headers.get('Content-Type');\n    if (contentType.includes('application/json')) {\n      body = await response.json();\n    }\n\n    if (response.ok) {\n      return body;\n    }\n\n    throw new APIError(response, body);\n  }\n\n  async post(path, body) {\n    await delay(500);\n\n    const headers = new Headers({\n      'Content-Type': 'application/json',\n    });\n\n    const response = await fetch(`${this.baseURL + path}`, {\n      method: 'POST',\n      body: JSON.stringify(body),\n      headers,\n    });\n\n    let responseBody = null;\n    const contentType = response.headers.get('Content-Type');\n    if (contentType.includes('application/json')) {\n      responseBody = await response.json();\n    }\n\n    if (response.ok) {\n      return responseBody;\n    }\n\n    throw new APIError(response, responseBody);\n  }\n}\n\nexport default HttpClient;\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,oBAAlB;AACA,OAAOC,QAAP,MAAqB,uBAArB;;AAEA,MAAMC,UAAN,CAAiB;EACfC,WAAW,CAACC,OAAD,EAAU;IACnB,KAAKA,OAAL,GAAeA,OAAf;EACD;;EAEQ,MAAHC,GAAG,CAACC,IAAD,EAAO;IACd,MAAMN,KAAK,CAAC,GAAD,CAAX;IAEA,MAAMO,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAE,KAAKJ,OAAL,GAAeE,IAAK,EAAxB,CAA5B;IAEA,IAAIG,IAAI,GAAG,IAAX;IACA,MAAMC,WAAW,GAAGH,QAAQ,CAACI,OAAT,CAAiBN,GAAjB,CAAqB,cAArB,CAApB;;IACA,IAAIK,WAAW,CAACE,QAAZ,CAAqB,kBAArB,CAAJ,EAA8C;MAC5CH,IAAI,GAAG,MAAMF,QAAQ,CAACM,IAAT,EAAb;IACD;;IAED,IAAIN,QAAQ,CAACO,EAAb,EAAiB;MACf,OAAOL,IAAP;IACD;;IAED,MAAM,IAAIR,QAAJ,CAAaM,QAAb,EAAuBE,IAAvB,CAAN;EACD;;EAES,MAAJM,IAAI,CAACT,IAAD,EAAOG,IAAP,EAAa;IACrB,MAAMT,KAAK,CAAC,GAAD,CAAX;IAEA,MAAMW,OAAO,GAAG,IAAIK,OAAJ,CAAY;MAC1B,gBAAgB;IADU,CAAZ,CAAhB;IAIA,MAAMT,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAE,KAAKJ,OAAL,GAAeE,IAAK,EAAxB,EAA2B;MACrDW,MAAM,EAAE,MAD6C;MAErDR,IAAI,EAAES,IAAI,CAACC,SAAL,CAAeV,IAAf,CAF+C;MAGrDE;IAHqD,CAA3B,CAA5B;IAMA,IAAIS,YAAY,GAAG,IAAnB;IACA,MAAMV,WAAW,GAAGH,QAAQ,CAACI,OAAT,CAAiBN,GAAjB,CAAqB,cAArB,CAApB;;IACA,IAAIK,WAAW,CAACE,QAAZ,CAAqB,kBAArB,CAAJ,EAA8C;MAC5CQ,YAAY,GAAG,MAAMb,QAAQ,CAACM,IAAT,EAArB;IACD;;IAED,IAAIN,QAAQ,CAACO,EAAb,EAAiB;MACf,OAAOM,YAAP;IACD;;IAED,MAAM,IAAInB,QAAJ,CAAaM,QAAb,EAAuBa,YAAvB,CAAN;EACD;;AA/Cc;;AAkDjB,eAAelB,UAAf"},"metadata":{},"sourceType":"module"}